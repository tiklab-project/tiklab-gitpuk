(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{1363:function(e,t,i){"use strict";i.r(t);var n=i(0),r=i.n(n),a=i(502),l=i(648),u=i(649),o=i(650),c=i(651),s=i(652),m=i(653),d=(i(1170),i(811)),N=i.n(d),b=(i(831),i(740)),f=i.n(b),g=i(645),p=i(506),_=i(578),y=i(230),h=i(207),v=i(90),E="/Users/limingliang/xcode-xpack/web/thoughtware-gittok-ui/src/setting/navigator/SettingContent.js";function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,a,l,u=[],o=!0,c=!1;try{if(a=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;o=!1}else for(;!(o=(n=a.call(i)).done)&&(u.push(n.value),u.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{if(!o&&null!=i.return&&(l=i.return(),Object(l)!==l))return}finally{if(c)throw r}}return u}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return C(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var O=Object(v.inject)("systemRoleStore")(Object(v.observer)((function(e){var t=e.route,i=(e.isDepartment,e.applicationRouters),a=e.systemRoleStore,l=(e.templateRouter,a.systemPermissions),u=Object(h.a)().t,o=e.location.pathname,c=j(Object(n.useState)(o),2),s=c[0],m=c[1],d=j(Object(n.useState)([""]),2),b=d[0],v=d[1],S=j(Object(n.useState)(null),2),C=S[0],O=S[1];Object(n.useEffect)((function(){o.startsWith("/setting/scanRule")?m("/setting/scanRuleSet"):o.startsWith("/setting/power/repository")?m("/setting/power/user"):m(o);var e=localStorage.getItem("authConfig");O(JSON.parse(e))}),[o]);var R=function(e){return b.some((function(t){return t===e}))},T=function(t,i){return r.a.createElement(f.a,w({key:t.id,code:t.purviewCode},e,{__source:{fileName:E,lineNumber:85,columnNumber:13}}),r.a.createElement("li",{style:{cursor:"pointer",paddingLeft:"".concat(20*i+20)},className:"system-aside-li system-aside-second ".concat(t.id===s?"system-aside-select":null),onClick:function(){return function(t){var i=t.id;i.endsWith("orga")||i.endsWith("user")||i.endsWith("userGroup")||i.endsWith("dir")?C.authType?e.history.push(t.id):window.open("".concat(C.authUrl,"/#").concat(i)):e.history.push(t.id)}(t)},key:t.id,__source:{fileName:E,lineNumber:86,columnNumber:17}},r.a.createElement("div",{className:"nav-style",__source:{fileName:E,lineNumber:91,columnNumber:21}},r.a.createElement("span",{className:"sys-content-icon",__source:{fileName:E,lineNumber:92,columnNumber:25}},t.icon),r.a.createElement("span",{className:"nav-style-title",__source:{fileName:E,lineNumber:93,columnNumber:25}},u(t.title)),!(null!=C&&C.authType)&&(t.id.endsWith("orga")||t.id.endsWith("user")||t.id.endsWith("userGroup")||t.id.endsWith("dir"))&&r.a.createElement("span",{__source:{fileName:E,lineNumber:96,columnNumber:29}},r.a.createElement(g.a,{__source:{fileName:E,lineNumber:97,columnNumber:33}})))))},x=function(e,t){return r.a.createElement("li",{key:e.id,className:"system-aside-li",__source:{fileName:E,lineNumber:108,columnNumber:13}},r.a.createElement("div",{className:"system-aside-item system-aside-first",style:{paddingLeft:"".concat(20*t+20)},onClick:function(){return t=e.id,void(R(t)?v(b.filter((function(e){return e!==t}))):v(b.concat(t)));var t},__source:{fileName:E,lineNumber:109,columnNumber:17}},r.a.createElement("span",{__source:{fileName:E,lineNumber:113,columnNumber:21}},r.a.createElement("span",{className:"sys-content-icon",__source:{fileName:E,lineNumber:114,columnNumber:25}},e.icon),r.a.createElement("span",{className:"system-aside-title",__source:{fileName:E,lineNumber:115,columnNumber:25}},u(e.title))),r.a.createElement("div",{className:"system-aside-item-icon",__source:{fileName:E,lineNumber:117,columnNumber:21}},e.children?R(e.id)?r.a.createElement(p.default,{style:{fontSize:"10px"},__source:{fileName:E,lineNumber:121,columnNumber:41}}):r.a.createElement(_.a,{style:{fontSize:"10px"},__source:{fileName:E,lineNumber:122,columnNumber:41}}):"")),r.a.createElement("ul",{className:"system-aside-ul ".concat(R(e.id)?null:"system-aside-hidden"),__source:{fileName:E,lineNumber:127,columnNumber:17}},e.children&&e.children.map((function(e){var i=t+1;return e.children&&e.children.length?A(e,i):T(e,i)}))))},A=function(e,t){return(e.children.some((function(e){return!e.purviewCode}))||e.children.some((function(e){return l.includes(e.purviewCode)})))&&x(e,t)};return r.a.createElement(N.a,w({},e,{expandedTree:b,setExpandedTree:v,applicationRouters:i,outerPath:"/setting",noAccessPath:"/noaccess",__source:{fileName:E,lineNumber:148,columnNumber:9}}),r.a.createElement("div",{className:"system",__source:{fileName:E,lineNumber:156,columnNumber:13}},r.a.createElement("div",{className:"system-aside",__source:{fileName:E,lineNumber:157,columnNumber:17}},r.a.createElement("ul",{className:"system-aside-top",style:{padding:0},__source:{fileName:E,lineNumber:158,columnNumber:21}},function(){try{return k(i)}catch(e){return k(i)}}().map((function(e){return e.children&&e.children.length>0?A(e,0):T(e,0)})))),r.a.createElement("div",{className:"system-content",__source:{fileName:E,lineNumber:167,columnNumber:17}},Object(y.a)(t.routes))))}))),R=i(646),T=i(647),x="/Users/limingliang/xcode-xpack/web/thoughtware-gittok-ui/src/setting/navigator/SettingRouters.js",A=[{id:"16",title:"基础数据",icon:r.a.createElement(R.a,{__source:{fileName:x,lineNumber:14,columnNumber:14}}),children:[{id:"/setting/syr/feature",title:"系统功能",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:19,columnNumber:22}})},{id:"/setting/roletrue",title:"系统角色",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:24,columnNumber:23}})},{id:"/setting/project/feature",title:"项目功能",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:29,columnNumber:22}})},{id:"/setting/project/role",title:"项目角色",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:34,columnNumber:22}})},{id:"/setting/todoTask",title:"待办任务",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:39,columnNumber:22}})},{id:"/setting/task",title:"待办事项",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:44,columnNumber:22}})},{id:"/setting/todoTemp",title:"代办模板 ",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:49,columnNumber:22}})},{id:"/setting/todoType",title:"代办类型 ",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:54,columnNumber:22}})},{id:"/setting/logTemplate",title:"日志模板",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:59,columnNumber:22}})},{id:"/setting/logType",title:"日志类型",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:64,columnNumber:22}})},{id:"/setting/management",title:"消息管理",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:69,columnNumber:22}})},{id:"/setting/type",title:"消息类型",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:74,columnNumber:22}})},{id:"/setting/sendtrue",title:"消息通知类型",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:79,columnNumber:22}})},{id:"/setting/noticetrue",title:"通知方案",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:84,columnNumber:22}})},{id:"/setting/userGrouptrue",title:"用户组true",icon:r.a.createElement(T.a,{__source:{fileName:x,lineNumber:89,columnNumber:22}})}]}],W="/Users/limingliang/xcode-xpack/web/thoughtware-gittok-ui/src/setting/navigator/Setting.js";function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t.default=function(e){var t=[{id:"1",title:"用户与权限",icon:r.a.createElement(a.default,{__source:{fileName:W,lineNumber:20,columnNumber:19}}),children:[{id:"/setting/orga",title:"部门",purviewCode:"orga"},{id:"/setting/user",title:"Users",purviewCode:"user"},{id:"/setting/userGroup",title:"用户组",purviewCode:"user_group"},{id:"/setting/dir",title:"用户目录",purviewCode:"user_dir"},{id:"/setting/role",title:"Privilege",purviewCode:"gittok_authority"}]},{id:"2",title:"Message",icon:r.a.createElement(l.a,{__source:{fileName:W,lineNumber:52,columnNumber:22}}),children:[{id:"/setting/mes/notice",title:"Message Notification Scheme",purviewCode:"gittok_news_scheme"},{id:"/setting/mes/send",title:"Message Send Type",purviewCode:"gittok_news_way"}]},{id:"/setting/plugin",title:"Plugin",icon:r.a.createElement(u.a,{__source:{fileName:W,lineNumber:69,columnNumber:22}}),purviewCode:"gittok_plugin"},{id:"4",title:"仓库配置",icon:r.a.createElement(o.a,{__source:{fileName:W,lineNumber:75,columnNumber:22}}),children:[{id:"/setting/auth",title:"Keys",purviewCode:"gittok_ssh"},{id:"/setting/userpower",title:"用户仓库",purviewCode:"gittok_user_rpy"},{id:"/setting/resources",title:"资源监控",purviewCode:"gittok_resource"}]},{id:"3",title:"扫描配置",icon:r.a.createElement(c.a,{__source:{fileName:W,lineNumber:97,columnNumber:19}}),purviewCode:"gittok_scan",children:[{id:"/setting/scanScheme",title:"扫描方案"},{id:"/setting/scanEnv",title:"扫描环境"},{id:"/setting/scanRuleSet",title:"扫描规则集"}]},{id:"5",title:"Security",icon:r.a.createElement(s.a,{__source:{fileName:W,lineNumber:119,columnNumber:18}}),children:[{id:"/setting/myLog",title:"Operation Log",purviewCode:"gittok_log"},{id:"/setting/backupRecovery",title:"备份与恢复",purviewCode:"gittok_backups"}]},{id:"6",title:"应用",icon:r.a.createElement(m.a,{__source:{fileName:W,lineNumber:136,columnNumber:18}}),children:[{id:"/setting/version",title:"Version And Licence",purviewCode:"version"},{id:"/setting/authContent",title:"应用访问权限",purviewCode:"gittok_visit_auth"}]}];return r.a.createElement(O,P({},e,{isDepartment:!1,applicationRouters:t,templateRouter:A,__source:{fileName:W,lineNumber:152,columnNumber:13}}))}}}]);